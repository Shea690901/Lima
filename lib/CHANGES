Tigran got the ball rolling and started Illusions

Tigran upgraded the driver to v22.1b12

Tigran compiled the driver with SENSIBLE_MODIFIERS.  This will cause anything with 'static' to break

Tigran converted a lot of statics variables to nosave and static functions to protected (note that this is the way that SENSIBLE_MODIFIERS works)

Tigran made create() in /obj/secure/shell.c protected instead of private.  Bug came accross w/ the new driver upgrade where :: was fixed.

Tigran implemented the fix to m_openable from Lima Bean

Tigran implemented the IMUD_D and ADMTOOL changes from lima which fixes owned channel problems

Tigran implemented the M_CLIMBABLE fix from Lima made by Rassilon

Tigran implemented the fix to /std/stairs.c that went with the previous change

Tigran Implemented the fix to NVERB_OB from Lima

Tigran implemented the fix to /std/object/names.c from Lima

Tigran implemented the change to clean_array() (/secure/simul_efun/misc) from Lima

Tigran implemented the fix to make M_MESSAGES support arrays with $o from Lima

Tigran added the use verb from Lima Bean

Tigran updated the climb cross wind and wait verbs to match Lima's changes

Tigran updated container.c to include Rassilon's fixes from Lima Bean

Tigran updated /std/inf_supply.c to include changes from Lima Bean

Tigran fixed admtool in accordance w/ Lima Bean (made the fix there too)

Tigran updated /secure/simul_efun/misc.c in accordance w/ Lima Bean's (this includes a clean_array() optimization

Tigran updated new_user_d in accordance w/ Vette's fix on Lima

Tigran implemented Vette's new players log from Lima

Tigran updated another portion of the admtool to bring it up to speed (/obj/admtool/domain.c)

Tigran updated GROUP_D to plug a security hole.  This also fixes admtool bug w/ groups

Tigran imp'd a change done on Lima bean to /obj/admtool/alias.c

Tigran imp'd a change done on Lima bean to make removal of currencies work (/daemons/money_d.c)

Tigran imp'd a change to QUEST_D to bring it up to speed with Lima

Tigran moved the admtool command to /cmds/wiz because it no longer needs to be in /trans

Tigran updated /obj/secure/shell/alias.c to remove the call_out for initializing aliases, in accordance to the Lima fix

Tigran updated /trans/obj/ed_session so that ANSI didn't print in it in accordance to the changes at Lima

Tigran updated M_GRAMMAR in accordance w/ changes at Lima (only a special case for pluaralize (barfs))

Tigran removed go_somewhere() from body.c in accordance with the new exit code on Lima

Tigran updated M_SMARTMOVE in accordance w/ the new exit code at lima

Tigran updated /cmds/verbs/go.c in accordance w/ the new exit code at Lima

Tigran updated exits.c to support Rassilon's new exit code.

Tigran updated M_SIBLING for the new exit code

Tigran added the simul is_normal_direction() (misc.c)

Tigran updated M_OPENABLE

Tigran updated M_WANDER for the new exit code

Tigran updated global.h and mudlib.h for the new exit code

Tigran updated /std/doors.c and /domains/std/large_oak_door.c to fit the new exit code

Tigran updated /std/hidden_door.c and /std/secret_door.c to support the new exit code on Lima

Tigran removed M_CLIMBABLE and M_ENTERABLE as they are obsolete w/ the new exit code

Tigran removed the verbs enter and climb as they are now obsolete w/ the new exit code

Tigran updated some files in /domains/std for the new exit code

Tigran updated the /obj/secure/shell.c and M_BLOCKEXITS in accordance w/ the new exit code.  The new exit code should now be in and I also think that we are caught up with Lima (finally)  *NOTE* There still might be a couple changes which I missed and I'm also going to be KEEPING us caught up w/ Lima so that version changes will be effectively transparent.

Tigran updated news_d to include Beek's SMTP additions

Tigran updated the soul save file to match lima's current one cause there are some cool ones there

Tigran have so far managed to completley fuck news up...don't use it until further notice

Tigran added convert_news() clean_news_group_data(), add_news_id_read(), and get_news_ids_read().  get_news_group_id() was remove.

Tigran added a get_unread_ids() to the newsreader, and removed get_current_id() which should now always be get_unread_ids[0]

Tigran modified count_unread_messages() in the newsreader.  It is much simpler now.

Tigran added unsubscription support to the newsreader.  This may be incomplete though

Tigran rather this is to the body object..still working on the newsreader

Tigran was shown M_SET by Beek@Lima and simplified a lot of the work that I had already done to the newsreader.  clean_newsgroup_data() has been removed, subscribe_group() and unsubscribe_group() added as well as check_subscribed()

Tigran implemented a fix to /std/door.c submitted by Kinison on Lima to fix doors

Tigran updated M_SET so that it now has set_intersection, set_union and set_difference functions

Tigran did a little bit of optimizing to M_SET, mostly to set_union() (old way Tigran did a very bad thing)

Tigran added patch to M_SET by beek which made it MUCHO more efficient

Tigran moved newsdata from the body to the user object where it belongs

Tigran added a registered_groups() function to newsdata

Tigran added subscribe_group() and unsubscribe_group() to the newsreader

Tigran modified add_new_groups() and added rcv_group_answer() to the newsreader to further promote being able to subscribe/unsubscribe to newsgroups

Tigran added get_thread_id() to NEWS_D which will return the thread id of any post.

Tigran removed the nuke and pave option from the banish menu of admtool.  It didn't work, and was redundant as it also exists in the user menu (where it actually worked)

Tigran removed the old admtool as we are not really supporting it anymore, and have updated everything we know of so that the new one works.  The admtool command was also updated to reflect this removal.

Tigran added catch_up_newsgroup() to newsdata

Tigran added my get_thread_ids() to news_d

Tigran added a more filter() friendly member_set() function which is merely an interface to set_member() to M_SET

Tigran updated M_SET's set_difference() to handle equal sets.

Tigran finally finished the new newsreader...enjoy

Tigran fixed a small bug in NEWS_D that was removing all thread data from a removed post.  The body is all that should be removed.  Archiving will take care of the rest when I finish it.

Rust changed the login sequence to use a random crypt salt.

Tigran fixed a small bug in the newsreader (wtf is query_mailer() not in the user, and is in the body anyway?

Beek added a valid_compile_to_c() function to the master object (currently, checks for priv 1)

Deathblade fixed Quiet_room's initialization of its door (must specify direction AND target)

Deathblade fixed a bad RABUG() usage in m_smartmove (commented it out) ... the "exit" param was not a string, as it expected

Tigran split out SMTP stuff from NEWS_D it is now it's own daemon.

Tigran fixed the newsreader to handle messages which don't exist at all...Although this shouldn't happen it appears to be happening anyways.

Rassilon removed the lameass heuristic in /cmds/player/tell.c that added a LIV to your emote automatically. Thanks be to Rust for getting me to fix this noise.

Rust added an unguarded() in LPSCRIPT_D so that rooms w/ embedded objects can be loaded by anyone (the tmp_ files weren't writiable by anyone except the owner of the dir w/ the scr file).

Rassilon tweaked /std/stairs.c so it should now accept funtion pointers as destinations

Tigran fixed a bug in the newsreader that wouldn't allow anyone to post because the check was to a nonexistant function

Rassilon added "out OBJ" as a rule for /cmds/verbs/go.c, you can now do things like: climb out of OBJ

Rassilon fixed up compose_message() in m_messages.c to accept an empty string as a message.

Rassilon notes that he added the following to m_exit_obj.c: alias_prep(srcprep, destprep) which copies all settings to the destprep (throws an error if destprep already exists), and setup_default_prep_aliases() which now only calls alias_prep("in", "into"), alias_prep("on", "onto") ONLY if the destination prepositions don't exist..

Rassilon added is_player_inside() to NON_ROOM:  return (environment(this_body()) == this_object());

Rassilon notes that Rust added "onto" to the list of prepositions in master.c

Tigran fixed /obj/secure/mailbox.c so that nuking users would work.

Rassilon had Rust add parser_root_environment() simul to /secure/simul_efun/objcalls.c Its purpose in life is to find the top of an environment chain, but also abiding by the return value of env->parent_environment_accessible()

Rassilon added parent_environment_accessible() to return 0 by default for CONTAINER

Rassilon added parent_environment_accessible() to return 1 by default for NON_ROOM

Rassilon modified do_game_command() in /std/body/cmd.c to pass deep_useful_inv(parser_root_environment()) into parse_sentance()

Rassilon modified inv_list() in /secure/simul_efuns/objcalls.c and inventory_recurse() in CONTAINER to not to recurse into livings, and display in_room_desc() for livings instead of a_short()

Tigran made several enhancements to the news system including : Additional newsgroup restriction functionality and an interface in the admtool.  Interface for mail forwarding in the admtool, and an interface for news archiving in the admtool  Files touched /obj/admtool/daemons/news.c NEWS_D and /obj/mudlib/newsreader.c

Rassilon created PREPOSITION_D at /daemons/preposition_d.c, #defined it in daemons.h, and added ALL of those darn prepositions to master.c

Rassilon notes that /cmds/verbs/go.c now delegates do_go_wrd_obj() to do_go_word_obj(), because the driver calls do_go_wrd_obj() for "WRD OBJ", as opposed to do_go_word_obj() which it calls for rules like: "up OBJ"

Rassilon notes that m_exit_obj.c suffered the same fate with direct_go_wrd_obj()

Rassilon notes that he modified /std/modules/m_exit_obj.c's direct_go_word_obj() and query_prep_destination() to call PREPOSITION_D->translate_preposition()

Rassilon yanked in -> into, and on -> onto from m_exit_obj's default preposition aliasing now that we have PREPOSITION_D

Tigran made a typo fix to news_d that was causing restrictions to not work for wizards (they could post anywhere)

Rust don't know the verb 'tel'.

Tigran fixed a bug in NEWS_D that was causing all recent activity stored in the recent_changes variable but not in the main variable to be ignored and undone every time NEWS_D saved.  (I.e. this is the fix for removing newsgroups)

Tigran thinks he finally got the newsreader working right

Tigran made tell.c's colouring more consistant...the You tell foo is now coloured in the same manner

Tigran was a dumbass and used unguarded when he shouldn't have so NEWS_D and SMTP_D were fixed to remove the unguarded call

Tigran changed STATIC to NOSAVE on the report of flist.c

Tigran goofed. Changed to PROTECTED, not NOSAVE

Rassilon notes that /std/nverb_ob.c now applies the synonyms to only the rules that were in that particular call to add_rules() by calling parse_add_synonym(syn, verb, rule)

Tigran modified banishing.  People with logins from banished sites can no longer log in if the site is banished unless the user is registered to log in from that site.  There still needs to be a little work done here to catch exceptions, but it is pretty functional.  Files touched: /std/classes/banish_data.c /secure/user/login.c /obj/admtool/daemons/banish.c /daemons/banish_d.c

Tigran modified banishing.  People with logins from banished sites can no longer log in if the site is banished unless the user is registered to log in from that site.  There still needs to be a little work done here to catch exceptions, but it is pretty functional.

Tigran plugged a hole in get_group() of GROUP_D that would allow any builder to replace themselves w/ anyone in a mail group

Tigran tweaked banish stuff for a better registration system (lot simpler too).  Files touched BANISH_D /std/classes/banish_data.c /obj/admtool/daemons/banihs.c

Tigran modified M_TRIGGERS to take differentiate between outside, inside, and private messages.  Files touched M_TRIGGERS, /include/triggers.h, /domains/std/harry.c(example)

Tigran put in the fix from Kesac into newsreader.c

Tigran fixed Moving posts.  It was a problem in the newsreader.

Tigran fixed SMTP_D.  It now works.  In addition a small change was made to NEWS_D

Tigran added To: From: and Reply-To: fields to what SMTP_D sends out

Tigran installed the dump_socket_status() simul from the driver distribution

Tigran added parse_refresh() to /std/body/naming.c for nicknaming

Tigran fixed a typo where a \n was forgotten in the newsreader

Tigran fixed trans so that you don't see the description of the room from the 'transer's point of view

Tigran fixed the shutdown command.  Now shutdown cancelling works, and you can only have one shutdown running at a time.

Beek fixed trans to restore the old value of this_user() when done; also, the temp value should be the link, not the body, when one exists

Tigran fixed HTTP_D so that it sends content-type

Tigran fixed shutdown.c so that it can be cancelled and that there can only be one run at a time

Tigran fixed the races in /std/race/ to check for USE_STATS.  (documentation,elf,human,orc,troll)

Tigran fixed /std/body so that if DEATH_USES_CORPSES is defined, it will actually leave a corpse

Tigran installed FTP_D fix from Naebator.  It works much better now

Tigran re-imp'd a fix to scr_command.c courtesy of Kinison (existed before the crash)

Tigran fixed banish_d so that registering saves

Tigran modified FTP_D so that an underscore replaces spaces in mud names.

Tigran added some error() calls into M_SET to help prevent corruption of set strings and detect them.

Tigran fixed newsdata.c so that it catches up if the read articles set string is corrupted.

Tigran updated newsdata.c so that it saved the user at places where its data was modified like it should have done all along *bonk*

Tigran updated /std/classes/banish_data.c to its older format cause he did registration differently than originally intended.  This also resulted in a change to BANISH_D so that it didn't initialize the registered member of the class

Tigran modified LPSCRIPT_D so that #pragma no_warnings is placed at the beginning of the temp file

Tigran fixed HTTP_D so that it is more HTTP 1.0 complient.  CGI scripts again work, and MS IE 4 browsers can now connect.

Tigran installed the ftp_d from naebator.

Tigran thinks he fixed SMTP_D

Tigran fixed SMTP_D so that if the user doesn't supply an email address (which they SHOULD) the Reply-To: field is omitted

Tigran fixed DOC_D so that it doesn't eval out when building

Rassilon added "off of" : "off" to preposition_d.c and added "off of" to master's list of prep's.

Deathblade have cleaned out some crap files (e.g. *.old, *.bak) in prep for 1.0a7. Also fixed a broken contrib/board.c (picked up a6 vsn)

